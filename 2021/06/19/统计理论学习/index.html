<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>统计理论学习 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="这么一个问题：{x1,x2,…,xn}x_i包含开收高低量判断最高点输入第一个x1 隐马尔可夫模型 首先解决 模型参数学习问题其次预测问题，也称为解码问题 HMM隐马尔可夫模型详解 每一列的均值和方差均不一样 hmm组成一般将一个隐马尔可夫模型记为：$\lambda &#x3D; [\Pi,A,B]$ 需要确定以下三方面内容（三要素）： 初始状态概率$\Pi$：模型在初始时刻各状态出现的概率，记为$\Pi&#x3D;">
<meta property="og:type" content="article">
<meta property="og:title" content="统计理论学习">
<meta property="og:url" content="http://example.com/2021/06/19/%E7%BB%9F%E8%AE%A1%E7%90%86%E8%AE%BA%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="这么一个问题：{x1,x2,…,xn}x_i包含开收高低量判断最高点输入第一个x1 隐马尔可夫模型 首先解决 模型参数学习问题其次预测问题，也称为解码问题 HMM隐马尔可夫模型详解 每一列的均值和方差均不一样 hmm组成一般将一个隐马尔可夫模型记为：$\lambda &#x3D; [\Pi,A,B]$ 需要确定以下三方面内容（三要素）： 初始状态概率$\Pi$：模型在初始时刻各状态出现的概率，记为$\Pi&#x3D;">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-06-19T15:39:24.000Z">
<meta property="article:modified_time" content="2022-03-06T01:49:40.881Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-统计理论学习" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/06/19/%E7%BB%9F%E8%AE%A1%E7%90%86%E8%AE%BA%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time datetime="2021-06-19T15:39:24.000Z" itemprop="datePublished">2021-06-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      统计理论学习
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这么一个问题：<br>{x1,x2,…,xn}<br>x_i包含开收高低量<br>判断最高点<br>输入第一个x1</p>
<p>隐马尔可夫模型</p>
<p>首先解决 模型参数学习问题<br>其次预测问题，也称为解码问题</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41923961/article/details/82750687">HMM隐马尔可夫模型详解</a></p>
<p>每一列的均值和方差均不一样</p>
<p>hmm组成<br>一般将一个隐马尔可夫模型记为：$\lambda = [\Pi,A,B]$</p>
<p>需要确定以下三方面内容（三要素）：</p>
<p>初始状态概率$\Pi$：模型在初始时刻各状态出现的概率，记为$\Pi=\{\pi_1,\pi_2,\pi_3\}$，$\pi_1$表示模型的初始状态为$\bold{涨}$的概率.</p>
<p>状态转移概率$A$: 模型在各个状态间转换的概率，通常记为矩阵 $A[a_{ij}]$，其中$a_{ij}$表示在任意时刻 t，若状态为 Si，则在下一时刻状态为 Sj 的概率.</p>
<p>输出观测概率 B: 模型根据当前状态获得各个观测值的概率通常记为矩阵 B=[[公式]]。其中，[公式]表示在任意时刻 t，若状态为[公式]，则观测值[公式]被获取的概率.</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/39912633">卡尔曼滤波</a></p>
<p>观测序列是连续的，状态层是离散的，并且，随着t的不同，转移概率会发生变化</p>
<p>$T=[0,240)$<br>对于时刻$t\in T$，价格服从正太分布$N(\mu_{pt},{\sigma}^2_{pt})$,成交量服从正态分布$N(\mu_{vt},{\sigma}^2_{vt})$,两者联合概率分布。（先不考虑成交量）<br>先变换成标准正态分布<br>状态层包含两个。</p>
<p>转换成数学问题描述</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/85236423">EM算法原理及推导</a></p>
<p>现在包含m个样本，每个样本形如$\{(p_i,v_i,y_i)，i=\{1,2,…,n\}\}$,$p_i,v_i$独立同分布</p>
<p>用$x_i$表示$(p_i,v_i)$</p>
<p>求$P(y_i|x_1,x_2,…,x_i)$</p>
<p>$P(x_1,x_2,…,x_i)\cdot P(y_i|x_1,x_2,…,x_i)=P(y_i,x_1,x_2,…,x_i)$</p>
<p>$P(x_i)$不具备齐次马尔可夫性质<br>引入隐变量$Z$</p>
<p>$P(x_i)=$仅仅取决于$z_i$</p>
<p>$P(x_1,x_2,…,x_i)=\sum_z P(x_1,x_2,…,x_i|z_1,z_2,…,z_i)P(z_1,z_2,…,z_i)$<br>$=P(z_1)\Pi_{c=2}^i P(z_c|z_{c-1})\Pi_{c=1}^i P(x_c|z_{c})$</p>
<p>应当是这么一个结构：<br>$y_i$依赖于$z_i$，$z_i$依赖于$z_{i-1}$和$x_i$，这么$P(y_i|x_1,x_2,…,x_i)$就不能去掉任何一个$x_i$</p>
<p>$P(y_i|x_1,x_2,…,x_i) = \underset  {z_i\in Z}{\sum} P(y_i|z_i)$</p>
<p>$Z_i$有$a$个状态，$Y_i$有$b$个状态，用一个$a\times b$的矩阵描述<br>$x_i$有$c$个状态，$Z_i$的任意取值有一个$a\times c$的矩阵描述，那么$Z_i$有一个$a\times c\times a$的方阵描述</p>
<p>由于$X_i$同分布，$Z_i$同分布？</p>
<p>$P(z_i)$</p>
<p>无监督聚类</p>
<p>两种方法<br>首先在正收益率内聚类，然后在完整测试集合内检验</p>
<p>在完整训练集合内聚类，挑选最好的，完整测试集合内检验</p>
<p>两种聚类均不可用</p>
<h1 id="描述问题："><a href="#描述问题：" class="headerlink" title="描述问题："></a>描述问题：</h1><p>现有6万个数据$\{x,y\}$<br>$x$为N维向量，$y为$标量，范围从$[-10,10]$。<br>$x$的每一个维度和$y$都呈正太分布<br>现在希望得出一个模型，将$x$分成正样本和负样本。目标：正样本集对应的$y$的平均值最大，并且正样本需占整体的5%以上，并且模型足够简单（泛化能力强）。</p>
<h1 id="我自己想到的方法"><a href="#我自己想到的方法" class="headerlink" title="我自己想到的方法"></a>我自己想到的方法</h1><h2 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h2><p>训练出一个神经网络，将估计值较高的数据分出来即可。但是实际上，度量空间内距离，任意一个小邻域内的$\{x^{(1)},x^{(2)},…,x^{(i)}\}$对应的$\{y^{(1)},y^{(2)},…,y^{(i)}\}$整体不会如同$x$一样集中，而是同样在$[-10,10]$内呈现正太分布，只是统计特征（均值，方差等）不同于总体的分布。</p>
<h2 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h2><p>将$x$分段，比如当$x$的维度$N=2$时，且每一个维度取值在[0,5)以内，每一个维度等分成5分，$x$整体分成一个$5\times 5$的矩阵$A$,$A_{ij}$表示该部分的$x=(x_1,x_2)$，$x_1\in [i,i+1),x_j\in [j,j+1)$，总共有25份，每一份对应的y的统计特征直接求出来，然后找到最优的一部分即可。</p>
<p>但是如果$x$的维度非常高时，方法2就无法使用。</p>
<h2 id="方法3"><a href="#方法3" class="headerlink" title="方法3"></a>方法3</h2><p>这个方法是我目前正在使用的。</p>
<p>我选取了（自认为最重要的）3个维度，执行方法2。</p>
<p>但是这样就忽略其他所有维度的数据。</p>
<h2 id="规划"><a href="#规划" class="headerlink" title="规划"></a>规划</h2><p>今天看了一些p Quant的介绍，我想去学习更加高深的数学工具。困难：周期长，难度高，中途需要找到正反馈点，否则无法坚持。许多内容都是用在期权定价等问题上的，实际上我用不到，如何和我的量化交易结合起来将是一个问题。<br>包含内容：随机过程、鞅论、泛函分析、测度论、PDE等。<br>设置一个合理的学习路径，每学一点内容都能起到实际作用，至少能够给我带来新的视角。</p>
<p>我想解决的问题是：minute级别的交易策略</p>
<p>出现过涨停，未来n天内，价格回踩至十日线<br>未来m天卖出</p>
<script type="math/tex; mode=display">F(x) = \sum F_i(x)\cdot p_i</script><p>分成N组，属于第n组的概率是多少</p>
<script type="math/tex; mode=display">P(x\in A_i) = \frac{f_i(x)\cdot p_i}{f(x)}</script><p>其中</p>
<script type="math/tex; mode=display">f(x) =  \sum f_i(x)\cdot p_i</script><p>$f_i(x)$为第n组的概率密度函数</p>
<p>卡方分布<br>截断正太分布<br>参数估计<br>不需要具体的分布形式</p>
<p>将所有数据分成N组，划分依据是收益率<br>| 收益率范围 | 组别 | para |   |   |<br>|——————|———|———|—-|—-|<br>| -10%~-9%   | 1    |  $y_i$    |   |   |<br>|            |      |      |   |   |<br>|            |      |      |   |   |<br>求出在第n组的概率，在该组参数为（如果是正太分布，参数为收益率为$y_i$，方差为$\sigma_{y_i}$，如果是其他形式的分布，则需要其他参数）<br>现在我们假设是正太分布。</p>
<p>那么该样本的期望收益为$\sum P(x\in A_i)\cdot y_i$,收益方差为？</p>
<p>各个组别的平均收益率为$\bold{c}$,为常数</p>
<p>所有数据总体呈现正太分布，参数为$\mu,\sigma$</p>
<p>任何一个样本处在总体的位置为$x=\mu+p$，该点的概率密度为$f(x)$，其在各个组别的概率向量为$\bold{x}$（直接拟合，不假设分布做参数估计，也不弄成矩阵），那么该点不考虑仓位系数时期望收益率为$\bold{c}\cdot \bold{x^T}$,仓位系数为$r(x)$。</p>
<p>期望$E(X)=\int_{-10}^{10} {r(x)\cdot \bold{c}\cdot \bold{x^T}\cdot f(x)} \,{\rm d}x$</p>
<p>方差$D(X)=E(X^2)-E(X)^2$</p>
<p>$max E(X)$</p>
<p>$min D(X)$</p>
<p>$r(x)$的其他约束，最大值为1，假设每天最大仓位买入可以买入Q分，每天符合策略的票有$b_i,b_2,…,b_j$，累计起来期望值要尽可能接近Q，且超过时按照Q计算</p>
<p>$\sum{r(b(i))}&lt;=Q$</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/19/%E7%BB%9F%E8%AE%A1%E7%90%86%E8%AE%BA%E5%AD%A6%E4%B9%A0/" data-id="cl5f6nrl30002usw43nme96ii" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/06/21/%E8%AE%B0%E5%BD%95%E7%94%9F%E6%B4%BB/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          记录生活
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/07/11/HZJ%E6%96%87%E7%BB%BC/">HZW文综</a>
          </li>
        
          <li>
            <a href="/2022/06/29/HZW-math-mistakes/">HZW_math_mistakes</a>
          </li>
        
          <li>
            <a href="/2022/06/23/YZL%E5%AD%A6%E4%B9%A0%E5%AE%89%E6%8E%92/">YZL学习安排</a>
          </li>
        
          <li>
            <a href="/2022/06/20/hzw%E5%9C%A8%E5%AE%B6%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%AE%89%E6%8E%92/">HZW在家学习的安排</a>
          </li>
        
          <li>
            <a href="/2021/10/09/%E9%9A%90%E7%A7%81%E6%94%BF%E7%AD%96/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<!--<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>-->
</body>
</html>